# vam05_PCB
This is a v4n layout ble pcb that works with ZMK

这是一个开源的 v4n pcb，这个布局来自trashman最初期的v4n配列设计v4n4g0n，并结合了之后开发的多个开源版本的v4n pcb的功能，如ws2812底灯（感谢kiser出色的monorail pcb设计）

但 vam05 旨在将v4n配列变为一个轻便的可携带版本，并为了避免有线版本在经常插拔USBc接口时，有可能的静电会击穿并损坏键盘，因此设计了ble版本（当然，无论如何，都推荐您使用合规的usbc线，而不是手工焊接的客制化数据线，因为我的确曾经因为客制化数据线-因为大多数屏蔽层未接地-而损坏了不少pcb）

此版本拥有相当漂亮的底光，12颗彩色ws2812形成了一个圆圈，排列在pcb的背面。他们的亮度中等，但我认为已经相当亮，如果你使用 _paw / vam05 的透明pc版本外壳。当你关闭底光的时候（这在keymap中是有的），ws2812并不会大量耗电以抽干电池，所以请勿担心。

这个版本还拥有一个电池开关，但它并不会直接把电池的电路切段，而是采用了巧妙的设计，得以使你在关闭电池开关的时候，仍可充电。

这个版本拥有最简化的v4n配列，它没有分裂空格和编码器（因为无线mcu的尺寸相当大，导致无法采用分裂空格，但是，分裂空格的功能是可以通过zmk固件层面实现的，即短按空格键为空格键，长按空格键则是另一个键）

此版本拥有3个预先焊接的指示灯（这同现有的三个版本的v4n相同），但是，请注意，这三个指示灯中，前两个指示灯（RGBLED1和RGBLED2）是3色rgb指示灯，最后一个是双色指示灯（Dualled），它们的功能分别是：

1.第一个指示灯在充电时会亮红灯，充满电后红灯灭（另外还有两个颜色绿色/蓝色闲置，如果你有jlink和tc2030并想烧录自己的固件，也许可以将它们开发出更多的功能，比如电源指示灯或者连接状态指示灯（虽然我觉得这其实有点多余，因为你完全可以通过点击层1键来确认电路板是否通电））

2.第二个指示灯会显示 黄绿/品红/天蓝色，分别对应 黄绿-层1/品红-层2/天蓝色-层3


# 固件
如果你是直接从我这里购买的电路板，则固件已经提前刷好，但是，如果你想刷自己的固件，这当然也是可行的，但这不太必要，因为zmk的在线改建功能已经相当好用了，zmkstudio地址：

# 蓝牙连接指南
层3(mo3)的1234数字键分别对应BT-Profile0、BT-Profile1、BT-Profile2、BT-Profile03，也就是说你可以连接4个设备（zmk允许5个，你可以编写固件并自己烧录，虽然我觉得4个对于大多数人来说已经足够）

在第一次连接的时候，按下BT-Profile0键，灯2就会变成黄绿色(当你选中一个profile时，灯2会暂时转变为蓝牙连接状态指示，黄绿表示尚未给这个停车位指定任何设备，红色表示已经指定了，但这个位置想要的设备现在不在线哦。而蓝色则表示：哟！你连接成功了)

这时在你的设备1(比如电脑)上点击匹配，然后匹配成功之后，就会变成蓝色连接状态。

这时我会建议你再连接一个BT-Profile1，以熟悉zmk的连接方式：

当你连接好设备1之后，不要点击任何BT_CLR，或者BT_CLR_ALL键，而是直接点击BT-Profile1(也就是层3的数字2键)，然后打开你的设备2(比如手机)，并匹配蓝牙。

这时，恭喜你，你已经完成两个设备的连接了。你可以在按下BT-Profile0和BT-Profile1之间随意切换你的设备。


这4个profile位是假设你有一个停车场，上面有4个空车位，刚才你做的，是先把第一辆车停了进来，然后又停进来了第二辆车。而BT_CLR做的，则是在你选中的停车位中，清空某一个停车位，比如你站在停车位1中，点击BT_CLR，你就把停车位1清空了。

而BT_CLR_ALL则是清空全部的停车位。
